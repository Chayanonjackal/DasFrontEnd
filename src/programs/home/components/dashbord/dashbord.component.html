<div class="text-4xl text-center">แสดงผลข้อมูล (Visualization)</div>

<div class="container-group">

  <div class="controller-group">
    <p-menu id="menu" #menu [model]="allMenu"></p-menu>
  </div>

  <div class="visualize-group">


    <div class="card-container">
      <div class="col-12 cardStyle">
        <div class="col-12">
          <p-card>
            <div class="text-xl p-2">
              จำนวนนักเรียนทั้งหมดในแต่ละจังหวัดของโรงเรียนที่ยื่นเข้ามาในสาขาวิทยาการคอมพิวเตอร์
            </div>
            <div style="display: flex; justify-content: center">
              <!-- <p-chart type="pie" class="chartStyle" [data]="data" [options]="chartOptions"  [style]="{'width': '50%'}" ></p-chart> -->
              <p-chart type="doughnut" [data]="dataProvince" [options]="chartOptions" [style]="{ width: '50%' }">
              </p-chart>
            </div>
            <div class="md:col-12 lg:col-12 sm:col-12">
              <p-table [value]="schoolProvinces" [scrollable]="true" #dp [filterDelay]="0" [globalFilterFields]="['name']" scrollHeight="400px" responsiveLayout="scroll">
                <ng-template pTemplate="caption">
                  <div class="table-header">
                      <span class="p-input-icon-left">
                          <i class="pi pi-search"></i>
                          <input pInputText type="text" class="search-size" (input)="applyFilterGlobalDp($event, 'contains')" placeholder="Search" />

                      </span>
                  </div>
                </ng-template>
                <ng-template pTemplate="header">
                  <tr>
                    <th>จังหวัด</th>
                    <th>จำนวน</th>
                  </tr>
                </ng-template>
                <ng-template pTemplate="body" let-schoolProvince>
                  <tr>
                    <td>{{ schoolProvince.name }}</td>
                    <td>{{ schoolProvince.count }}</td>
                  </tr>
                </ng-template>
              </p-table>
            </div>
          </p-card>
        </div>
      </div>
    </div>

    <div class="card-container">
      <div class="col-12 cardStyle">
        <div class="col-12">
          <p-card>
            <ng-template pTemplate="header">
              <div class="text-xl p-2">
                จำนวนนักเรียนทั้งหมดในแต่ละโรงเรียนที่ยื่นเข้ามาในสาขาวิทยาการคอมพิวเตอร์
              </div>
            </ng-template>
            <div class="">
              <div class="" style="display: flex;" >
                <p-chart type="bar" [data]="data" [options]="schoolNameYearOptions" class="barResponsive"></p-chart>
                <!-- [style]="{ width: '100%' }" -->
              </div>
            </div>
            <div class="md:col-12 lg:col-12 sm:col-12">
              <p-table [value]="schools" [scrollable]="true" #dt [filterDelay]="0" [globalFilterFields]="['name']" scrollHeight="400px" responsiveLayout="scroll">
                <ng-template pTemplate="caption">
                  <div class="table-header">
                      <span class="p-input-icon-left">
                          <i class="pi pi-search"></i>
                          <input pInputText type="text" class="search-size" (input)="applyFilterGlobal($event, 'contains')" placeholder="Search" />

                      </span>
                  </div>
                </ng-template>
                <ng-template pTemplate="header">
                  <tr>
                    <th>โรงเรียน</th>
                    <th>จำนวน</th>
                  </tr>
                </ng-template>
                <ng-template pTemplate="body" let-school>
                  <tr>
                    <td>{{ school.name }}</td>
                    <td>{{ school.count }}</td>
                  </tr>
                </ng-template>
              </p-table>
            </div>
          </p-card>
        </div>
      </div>
    </div>

    <!-- ตามปี -->
    <div class="card-container ">

      <div class="md:col-12 lg:col-12 sm:col-12 ">
        <!-- cardStyle -->
        <div class="md:col-12 lg:col-12 sm:col-12">
          <p-card>
            <div class="text-xl p-2">
              <!-- มาใส่ปีด้วยนะ -->
              จำนวนนักเรียนทั้งหมดในแต่ละโรงเรียนที่ยื่นเข้ามาในสาขาวิทยาการคอมพิวเตอร์ในแต่ละปี
            </div>
            <div class="dropdown-year">
              <p-dropdown class="" [options]="dropDownObject" [(ngModel)]="selectedYear"
                (onChange)="onYearSelected($event)" optionLabel="year"></p-dropdown>
            </div>
          </p-card>
        </div>
      </div>

      <div class="md:col-12 lg:col-12 sm:col-12 cardStyle">
        <div class="md:col-6 lg:col-6 sm:col-6">
          <p-card>
            <h2>จังหวัดโรงเรียน</h2>
            <div class="" style="display: flex;" >
              <p-chart type="bar" [data]="ProvinceYearData" [options]="ProvinceYearOptions" class="barResponsive"></p-chart>
            </div>
          </p-card>
        </div>
        <div class="md:col-6 lg:col-6 sm:col-6">
          <p-card>
            <h2>โรงเรียน</h2>
            <div class="" style="display: flex;" >
              <p-chart type="bar" [data]="schoolNameYearData" [options]="schoolNameYearOptions" class="barResponsive"></p-chart>
            </div>

          </p-card>
        </div>
      </div>




    </div>
  </div>

</div>
