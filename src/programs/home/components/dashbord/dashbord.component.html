<div class="text-4xl text-center">แสดงผลข้อมูล (Visualization)</div>

<div class="container-group">

  <div class="controller-group">
    <p-menu #menu [model]="allMenu"></p-menu>
  </div>

  <div class="visualize-group">
    <div class="card-container">
          <p-card>
      <ng-template pTemplate="header">
        <div class="text-xl p-2">
          จำนวนนักเรียนทั้งหมดในแต่ละโรงเรียนที่ยื่นเข้ามาในสาขาวิทยาการคอมพิวเตอร์
        </div>
      </ng-template>
      <div style="display: flex; justify-content: center">
        <p-chart
          type="pie"
          class="chartStyle"
          [data]="data"
          [options]="chartOptions"
          [style]="{ width: '50%' }"
        ></p-chart>
      </div>
      <div class="md:col-12 lg:col-12 sm:col-12">
        <p-table
          [value]="schools"
          [scrollable]="true"
          scrollHeight="400px"
          responsiveLayout="scroll"
        >
          <ng-template pTemplate="header">
            <tr>
              <th>โรงเรียน</th>
              <th>จำนวน</th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-school>
            <tr>
              <td>{{ school.name }}</td>
              <td>{{ school.count }}</td>
            </tr>
          </ng-template>
        </p-table>
      </div>
    </p-card>
    </div>

    <div class="card-container">
      <p-card>
        <div class="text-xl p-2">
          จำนวนนักเรียนทั้งหมดในแต่ละจังหวัดของโรงเรียนที่ยื่นเข้ามาในสาขาวิทยาการคอมพิวเตอร์
        </div>
        <div style="display: flex; justify-content: center">
          <!-- <p-chart type="pie" class="chartStyle" [data]="data" [options]="chartOptions"  [style]="{'width': '50%'}" ></p-chart> -->
          <p-chart
            type="doughnut"
            [data]="dataProvince"
            [options]="chartOptions"
            [style]="{ width: '80%' }"
          ></p-chart>
        </div>
        <div class="md:col-12 lg:col-12 sm:col-12">
          <p-table
            [value]="schoolProvinces"
            [scrollable]="true"
            scrollHeight="400px"
            responsiveLayout="scroll"
          >
            <ng-template pTemplate="header">
              <tr>
                <th>จังหวัด</th>
                <th>จำนวน</th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-schoolProvince>
              <tr>
                <td>{{ schoolProvince.name }}</td>
                <td>{{ schoolProvince.count }}</td>
              </tr>
            </ng-template>
          </p-table>
        </div>
      </p-card>
    </div>

    <!-- ตามปี -->
    <div class="card-container">
      <p-card>
        <div class="text-xl p-2">
          <!-- มาใส่ปีด้วยนะ -->
          จำนวนนักเรียนทั้งหมดในแต่ละโรงเรียนที่ยื่นเข้ามาในสาขาวิทยาการคอมพิวเตอร์ในแต่ละปี
        </div>
       
        <div class="dropdown-year">
          <p-dropdown
            class=""
            [options]="dropDownObject"
            [(ngModel)]="selectedYear"
            (onChange)="onYearSelected($event)"
            optionLabel="year"
          ></p-dropdown>
        </div>
        <!-- <p>{{selectedYear|json}}</p> -->
        <div class="chartyear">
          <div>
            <p-chart
              type="doughnut"
              class="chartStyle"
              [data]="dataProvinceYear"
              [options]="chartOptions"
              [style]="{ width: '50%' }"
            ></p-chart>
          </div>
          <div>
            <p-chart
              type="pie"
              class="chartStyle"
              [data]="dataSchoolYear"
              [options]="chartOptions"
              [style]="{ width: '50%' }"
            ></p-chart>
          </div>
        </div>
      </p-card>
    </div>
  </div>

</div>

<!-- ส่วนนี้ "คิดว่าควรย้ายไปอยู่หน้า About" -->
<!-- 
  <div class="container-btn mt-6 mb-5">
    <img
      src="../../../../../assets/img/search.jpg"
      alt="search"
      class="photo"
    />
    <div class="ml-5 align-self-center">
      <p class="text-search">ค้นหา และ คัดกรอง</p>
      <p>
        It is a long established fact that a reader will <br />
        be distracted by the readable content of a <br />
        page when looking at its layout. The point of <br />
        using Lorem Ipsum
      </p>
      <button
        (click)="GoToSp()"
        pButton
        pRipple
        type="button"
        label="ค้นหา"
        class="p-button-danger m-1 text-1xl"
      ></button>
    </div>
  </div>
  <br /><br />
  <div class="container-btn">
    <div class="ml-5 align-self-center">
      <p class="text-search">
        นักเรียนที่มีคุณสมบัติตรงกับ <br />สาขาวิทยาการคอมพิวเตอร์
      </p>
      <p>
        It is a long established fact that a reader will <br />
        be distracted by the readable content of a <br />
        page when looking at its layout. The point of <br />
        using Lorem Ipsum
      </p>
      <button
        (click)="GoToSp()"
        pButton
        pRipple
        type="button"
        label="ดูข้อมูล"
        class="p-button-danger m-1 text-1xl"
      ></button>
    </div>
    <img
      src="../../../../../assets/img/result.jpg"
      alt="search"
      class="photo"
    />
  </div>
  <br /><br /><br /><br /> -->
